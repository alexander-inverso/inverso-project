<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INVERSO PROJECT // DEBUG MODE</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --white: #ffffff;
            --accent: #00f3ff;
            --error: #ff3333;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--white);
            background: #050505;
            overflow-x: hidden;
            margin: 0;
        }

        /* --- DEBUG CONSOLE (SOLO PARA DIAGNÓSTICO) --- */
        #sys-log {
            position: fixed;
            top: 10px;
            left: 10px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: var(--accent);
            z-index: 9999;
            background: rgba(0,0,0,0.8);
            padding: 10px;
            pointer-events: none;
            max-width: 300px;
        }

        /* --- VÍDEO --- */
        #bg-video {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            z-index: -1;
            opacity: 0; 
            transition: opacity 2s ease;
        }

        /* --- PANTALLA INICIO --- */
        #start-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #050505; z-index: 999;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            transition: opacity 0.5s ease;
        }

        #init-btn {
            background: transparent; color: var(--accent);
            font-family: 'Montserrat', sans-serif;
            padding: 1.5rem 3rem; border: 1px solid var(--accent);
            cursor: pointer; text-transform: uppercase;
        }

        /* --- UI ELEMENTS --- */
        #hero-title {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 6vw; font-weight: 900;
            opacity: 0; transition: opacity 0.2s;
            mix-blend-mode: overlay;
        }

        #main-interface {
            opacity: 0; transform: translateY(50px);
            transition: all 1.5s ease;
            padding: 100vh 5vw 10vh 5vw;
            max-width: 1400px; margin: 0 auto;
            display: grid; grid-template-columns: repeat(12, 1fr); gap: 2rem;
        }

        .glass-panel {
            grid-column: span 12; background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px); padding: 2rem; border: 1px solid rgba(255,255,255,0.1);
        }

        .col-half { grid-column: span 6; }
        @media (max-width: 768px) { .col-half { grid-column: span 12; } }

        /* ESTADOS */
        .visible { opacity: 1 !important; transform: translateY(0) !important; }
        .hidden { opacity: 0 !important; pointer-events: none; }
        .video-on { opacity: 0.6 !important; }

    </style>
</head>
<body>

    <div id="sys-log">
        > SYSTEM BOOT...<br>
    </div>

    <div id="start-screen">
        <button id="init-btn">INITIALIZE SYSTEM</button>
    </div>

    <video id="bg-video" muted playsinline loop>
        <source src="./background.mp4" type="video/mp4">
    </video>

    <div id="hero-title">INVERSO PROJECT</div>

    <div id="main-interface">
        <div class="glass-panel col-full">
            <h2>I. El Contexto</h2>
            <p>Si lees esto, el sistema gráfico ha cargado correctamente.</p>
        </div>
        <div class="glass-panel col-half">
            <h2>II. Estado</h2>
            <p>Diagnóstico de vídeo completado.</p>
        </div>
        <div class="glass-panel col-half">
            <h2>III. Contacto</h2>
            <p>axel@inverso.bio</p>
        </div>
    </div>

    <script>
        // --- SISTEMA DE LOGGING ---
        const logBox = document.getElementById('sys-log');
        function log(msg, type = 'info') {
            const color = type === 'error' ? '#ff3333' : '#00f3ff';
            logBox.innerHTML += `<span style="color:${color}">> ${msg}</span><br>`;
            console.log(msg);
        }

        const btn = document.getElementById('init-btn');
        const screen = document.getElementById('start-screen');
        const video = document.getElementById('bg-video');
        const title = document.getElementById('hero-title');
        const ui = document.getElementById('main-interface');

        // CHECK 1: ¿Existe el archivo de vídeo?
        video.onerror = function() {
            log("ERROR CRÍTICO: No se puede cargar 'background.mp4'", "error");
            log("Causa probable: Nombre incorrecto o no subido a GitHub.", "error");
            log("Intentando forzar interfaz sin vídeo...", "info");
            setTimeout(() => launchInterface(), 1000);
        };

        video.onloadeddata = function() {
            log("VIDEO ASSET: OK (Datos cargados)");
        };

        // INTERACCIÓN USUARIO
        btn.addEventListener('click', () => {
            log("USER INPUT: Click detectado");
            screen.classList.add('hidden');
            
            const playPromise = video.play();
            
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    log("PLAYBACK: Iniciado correctamente");
                    video.classList.add('video-on');
                })
                .catch(error => {
                    log("PLAYBACK ERROR: " + error, "error");
                    // Fallback si falla el vídeo
                    launchInterface();
                });
            }
        });

        // BUCLE DE TIEMPO
        let phase1 = false; // Título
        let phase2 = false; // Interfaz

        video.addEventListener('timeupdate', () => {
            // Mostrar tiempo cada segundo entero para ver si avanza
            if(Math.floor(video.currentTime) > 0 && Math.floor(video.currentTime) % 2 === 0) {
                // log("TIME: " + Math.floor(video.currentTime) + "s"); 
                // Comentado para no saturar, descomentar si es necesario
            }

            // SEGUNDO 5
            if (video.currentTime >= 5 && !phase1) {
                log("EVENT: Trigger Título (5s)");
                title.classList.add('visible');
                phase1 = true;
            }

            // SEGUNDO 7
            if (video.currentTime >= 7 && !phase2) {
                log("EVENT: Trigger UI (7s)");
                title.style.opacity = 0.1; // Marca de agua
                ui.classList.add('visible');
                phase2 = true;
            }
        });

        // FUNCIÓN DE EMERGENCIA
        function launchInterface() {
            log("BYPASS: Iniciando interfaz modo estático");
            title.classList.add('visible');
            setTimeout(() => {
                ui.classList.add('visible');
                title.style.opacity = 0.1;
            }, 2000);
        }

        log("SYSTEM READY. WAITING FOR INPUT.");
    </script>
</body>
</html>
